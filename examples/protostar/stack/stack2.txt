// [files]
// helpers.c

extern flag: fn () void,
       tryagain: fn () void

chunk buffer: [64]char,
      modified: int
chunk variable: *char

block main {
    variable = getenv@libc("GREENIE")
    if variable == NULL {
        puts@libc("please set GREENIE\n")
    }

    modified = 0
    strcpy@libc(buffer, variable)
    if modified == 0x0d0a0d0a {
        flag()
    } else {
        tryagain()
    }
}
